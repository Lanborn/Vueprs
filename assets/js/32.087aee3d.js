(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{615:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"options-api的弊端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options-api的弊端"}},[t._v("#")]),t._v(" Options Api的弊端")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Options API的一大特点就是在对应的属性中编写对应的功能模块；")])]),t._v(" "),a("li",[a("p",[t._v("比如data定义数据、methods中定义的方法、computed中定义计算属性、watch中监听属性改变，也包括生命周期钩子")])]),t._v(" "),a("li",[a("p",[t._v("弊端：")]),t._v(" "),a("ul",[a("li",[t._v("当我们实现某一个功能时，这个功能对应的代码逻辑会被拆分到各个属性中；")]),t._v(" "),a("li",[t._v("当我们组件变得更大、更复杂时，逻辑关注点的列表就会增长，那么同一个功能的逻辑就会被拆分的很分散；")]),t._v(" "),a("li",[t._v("尤其对于那些一开始没有编写这些组件的人来说，这个组件的代码是难以阅读和理解")])])])]),t._v(" "),a("h3",{attrs:{id:"setup不可以使用this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup不可以使用this"}},[t._v("#")]),t._v(" setup不可以使用this")]),t._v(" "),a("ul",[a("li",[t._v("官方关于this有这样一段描述(PR中的)\n"),a("ul",[a("li",[t._v("this并没有指向当前组件实例")]),t._v(" "),a("li",[t._v("并且在setup被调用之前，data、computed、methods等都没有被解析")]),t._v(" "),a("li",[t._v("所以无法在setup中获取this")]),t._v(" "),a("li",[t._v("在执行Setup的时候，组件实例还没有被创建出来(错误的)")]),t._v(" "),a("li",[t._v("V3源码段")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" instance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createComponentInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);